<template>
  <div class="container">
    <div class="back-button">
      <router-link to="/"><button>Home</button></router-link>
    </div>

    <div class="row">
      <div class="col-md-7 text-center">
        <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
          <li class="nav-item" role="presentation">
            <button
              class="nav-link active"
              id="pills-country-tab"
              data-bs-toggle="pill"
              data-bs-target="#pills-country"
              type="button"
              role="tab"
              aria-controls="pills-country"
              aria-selected="true"
            >
              Country
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="pills-information-tab"
              data-bs-toggle="pill"
              data-bs-target="#pills-information"
              type="button"
              role="tab"
              aria-controls="pills-information"
              aria-selected="false"
            >
              Information
            </button>
          </li>
        </ul>

        <div class="tab-content" id="pills-tabContent">
          <div
            class="tab-pane fade show active"
            id="pills-country"
            role="tabpanel"
            aria-labelledby="pills-country-tab"
          >
            <div class="wrapper border rounded-lg text-center">
              <div class="row">
                <div class="col-sm-4">
                  <p>
                    <img class="cloud" src="../assets/letter-n.png" alt="" />
                    Country Name
                  </p>
                  <p style="line-height: 25px">
                    {{ countryStore.country.name?.official }}
                  </p>
                </div>
                <div class="col-sm-4">
                  <p>
                    <img
                      class="cloud"
                      src="../assets/letter-n.png"
                      alt=""
                    />languages
                  </p>
                  <p>
                    {{ Object.values(countryStore.country?.languages).join(", ")
                    }}
                  </p>
                </div>

                <div class="col-sm-4">
                  <p>
                    <img
                      class="cloud"
                      src="../assets/earth-grid.png"
                      alt=""
                    />Sub-Continent
                  </p>
                  <p>{{ countryStore.country.subregion }}</p>
                </div>
              </div>

              <div class="row">
                <div class="col-sm-4">
                  <p>
                    <img class="cloud" src="../assets/city.png" alt="" />Capital
                    City
                  </p>
                  <p>{{ formatCapital(countryStore.country.capital) }}</p>
                </div>
                <div class="col-sm-4">
                  <p>
                    <img
                      class="cloud"
                      src="../assets/earth-grid.png"
                      alt=""
                    />Region
                  </p>
                  <p>{{ countryStore.country.region }}</p>
                </div>
                <div class="col-sm-4">
                  <p>
                    <img
                      class="cloud"
                      src="../assets/map-point.png"
                      alt=""
                    />Sub-region
                  </p>
                  <p>{{ countryStore.country.subregion }}</p>
                </div>
                ` `
              </div>

              <div class="row">
                <div class="col-sm-4">
                  <p>
                    <img
                      class="cloud"
                      src="../assets/user.png"
                      alt=""
                    />Population
                  </p>
                  <p>{{ countryStore.country.population }}</p>
                </div>
                <div class="col-sm-4">
                  <p>
                    <img class="cloud" src="../assets/clock.png" alt="" />Time
                    Zone
                  </p>
                  <p>{{ formatCapital(countryStore.country.timezones) }}</p>
                </div>
                <div class="col-sm-4">
                  <p>
                    <img
                      class="cloud"
                      src="../assets/currencies.png"
                      alt=""
                    />Currency
                  </p>
                  <p
                    v-for="currency in Object.values(
                      countryStore.country?.currencies
                    )"
                    :key="currency.name"
                  >
                    {{ currency.name }}
                  </p>
                </div>
              </div>
            </div>
          </div>
          <div
            class="tab-pane fade"
            id="pills-information"
            role="tabpanel"
            aria-labelledby="pills-information-tab"
          >
            <div class="wrapper">
              <div class="container mt-5">
                <div class="row">
                  <div class="col-md-7">
                    <div class="row">
                      <div class="col-md-7 date">
                        <p class="timezone">
                          Start of Week: {{ countryStore.country.startOfWeek ?
                          countryStore.country.startOfWeek : country.startOfWeek
                          }}
                        </p>

                        <p class="timezone">
                          Independent: {{ countryStore.country.independent }}
                        </p>
                        <p class="timezone">
                          Offset: {{ countryStore.country.timezones.join() }}
                        </p>
                        <p class="timezone">
                          Landlocked: {{ countryStore.country.landlocked }}
                        </p>
                      </div>
                      <div class="col-md-5">
                        <div class="clock-container">
                          <div class="animatedClock" id="animated-svg-clock">
                            <img
                              src="../assets/kisspng-svg-animation-clock-5af1b91059f383.9553009315257909923685.png"
                              alt=""
                            />
                          </div>
                          <div class="analog-clock-wrapper">
                            <div class="date">{{ date }}</div>

                            <div class="time">
                              <li>{{ formattedHours }} :</li>
                              <li>{{ formattedMinutes }} :</li>
                              <li>{{ formattedSeconds }}</li>
                              <li>{{ ampm }}</li>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-5"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="country-image col-md-5">
      <img :src="countryStore.country.flags.png" />
    </div>
  </div>
</template>
